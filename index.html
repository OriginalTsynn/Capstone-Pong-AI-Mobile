<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Pong</title>
    <!-- must call phaser before any other script -->
    <script type="text/javascript" src="phaser.min.js"></script>
    <style type = "text/css">
    body {
        margin: 0;
        height: 100vh;
        width: 100vw;
        }
    </style>
</head>
<body>
    <script type = "text/javascript">
        //   initializing the phaser game!  pixels, auto-detect, and core functions
        var game = new Phaser.Game(800, 600, Phaser.AUTO, '', {preload: preload, create: create, update: update})

        //  initiate players
        var paddle1
        var paddle2
        //  ball stuff
        var ball
        var ball_launched
        var ball_velocity
        //  score stuff
        var score1_text
        var score2_text
        var score1
        var score2
        //  maybe keyboard control
        var cursors
// -------------------------------------------------------------


        // preload is for loading everything
        function preload(){
            // image files
            this.load.image('paddle', '../assets/paddle.png')
            this.load.image('ball', '../assets/ball.png')

            // sound files
            game.load.audio('hit_1', ['../assets/hit_1.wav'])
            game.load.audio('hit_2', ['../assets/hit_2.wav'])

        }
// -------------------------------------------------------------
        // the set up function
        function create(){
            //  Phaser sets things up in layers.  First to be called will be the bottom most layer.
            //  thus any background images need to be loaded first, otherwise they will cover over anything else
            game.stage.backgroundColor = '#888888';
            // Create the paddles
            paddle1 = create_paddle(0, game.world.centerY)
            paddle2 = create_paddle(game.world.width -8,game.world.centerY)
            // Create the ball
            ball = create_ball(game.world.centerX, game.world.centerY)


        }
// -------------------------------------------------------------
        //  this is what updates every frame
        function update(){

        }

// -------------------------------------------------------------
        function create_paddle(x, y) {
            var paddle = game.add.sprite(x,y,'paddle')
            paddle.anchor.setTo(0.5,0.5)                        //  Sets anchor to the middle of the sprite body
            game.physics.arcade.enable(paddle)                  //  Enable physics
            paddle.body.collideWorldBounds = true               //  Don't let the paddle leave the confines of the world

            return paddle
                }



// -------------------------------------------------------------

        function create_ball(x, y){
            var ball = game.add.sprite(x,y,'ball')
            ball.anchor.setTo(0.5,0.5)                          //  Sets anchor to the middle of the sprite body
            game.physics.arcade.enable(ball)                    //  Enable physics
            ball.body.collideWorldBounds = true                 //  Keeps ball confined to world
            ball.body.bounce.setTo(1,1)                        //  Setting bounce velocities
            ball.scale.setTo(0.3,0.3)                         //  shrink ball size to 30% of original


            return ball
        }












        </script>
</body>
</html>


